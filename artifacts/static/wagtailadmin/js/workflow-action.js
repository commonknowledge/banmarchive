!function(){"use strict";var t={83152:function(t,o,n){var e=this&&this.__read||function(t,o){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,r,a=n.call(t),i=[];try{for(;(void 0===o||o-- >0)&&!(e=a.next()).done;)i.push(e.value)}catch(t){r={error:t}}finally{try{e&&!e.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},r=this&&this.__spreadArray||function(t,o){for(var n=0,e=o.length,r=t.length;n<e;n++,r++)t[r]=o[n];return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};o.__esModule=!0;var i=a(n(73609));function l(t,o,n){var e=document.createElement("input");e.type="hidden",e.name=o,e.value=n,t.appendChild(e)}window._addHiddenInput=l,window.ActivateWorkflowActionsForDashboard=function(t){var o=document.querySelectorAll("[data-workflow-action-url]");r([],e(o)).forEach((function(o){o.addEventListener("click",(function(n){if(n.preventDefault(),n.stopPropagation(),"launchModal"in o.dataset)ModalWorkflow({url:o.dataset.workflowActionUrl,onload:{action:function(t){var o=document.createElement("input");o.type="hidden",o.name="next",o.value=window.location,i.default("form",t.body).append(o),t.ajaxifyForm(i.default("form",t.body))},success:function(t,o){window.location.href=o.redirect}}});else{var e=document.createElement("form");e.action=o.dataset.workflowActionUrl,e.method="POST",l(e,"csrfmiddlewaretoken",t),l(e,"next",window.location),document.body.appendChild(e),e.submit()}}),{capture:!0})}))},window.ActivateWorkflowActionsForEditView=function(t){var o=i.default(t).get(0),n=document.querySelectorAll("[data-workflow-action-name]");r([],e(n)).forEach((function(t){t.addEventListener("click",(function(n){"workflowActionModalUrl"in t.dataset?(n.preventDefault(),n.stopPropagation(),ModalWorkflow({url:t.dataset.workflowActionModalUrl,onload:{action:function(t){t.ajaxifyForm(i.default("form",t.body))},success:function(n,e){l(o,"action-workflow-action","true"),l(o,"workflow-action-name",t.dataset.workflowActionName),l(o,"workflow-action-extra-data",JSON.stringify(e.cleaned_data)),i.default(o).submit()}}})):(l(o,"action-workflow-action","true"),l(o,"workflow-action-name",t.dataset.workflowActionName))}),{capture:!0})}))}},73609:function(t){t.exports=jQuery}},o={};function n(e){if(o[e])return o[e].exports;var r=o[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,n.x=function(){},n.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(o,{a:o}),o},n.d=function(t,o){for(var e in o)n.o(o,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.j=477,function(){var t={477:0},o=[[83152,751],[90971,751]],e=function(){},r=function(r,a){for(var i,l,u=a[0],c=a[1],f=a[2],d=a[3],s=0,w=[];s<u.length;s++)l=u[s],n.o(t,l)&&t[l]&&w.push(t[l][0]),t[l]=0;for(i in c)n.o(c,i)&&(n.m[i]=c[i]);for(f&&f(n),r&&r(a);w.length;)w.shift()();return d&&o.push.apply(o,d),e()},a=self.webpackChunkwagtail=self.webpackChunkwagtail||[];function i(){for(var e,r=0;r<o.length;r++){for(var a=o[r],i=!0,l=1;l<a.length;l++){var u=a[l];0!==t[u]&&(i=!1)}i&&(o.splice(r--,1),e=n(n.s=a[0]))}return 0===o.length&&(n.x(),n.x=function(){}),e}a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a));var l=n.x;n.x=function(){return n.x=l||function(){},(e=i)()}}(),n.x()}();
//# sourceMappingURL=workflow-action.js.map