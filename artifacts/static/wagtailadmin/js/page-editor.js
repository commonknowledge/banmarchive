!function(){"use strict";var e={85843:function(e,t,n){var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=a(n(73609));function l(e,t){if(t){var n=URLify(e,255,window.unicodeSlugsEnabled);if(n)return n}return window.unicodeSlugsEnabled?e.replace(/\s/g,"-").replace(/[&/\\#,+()$~%.'":`@^!*?<>{}]/g,"").toLowerCase():e.replace(/\s/g,"-").replace(/[^A-Za-z0-9\-_]/g,"").toLowerCase()}function r(){var e=!1;i.default("#id_title").on("focus",(function(){var t=i.default("#id_slug").val(),n=l(this.value,!0);e=t===n})),i.default("#id_title").on("keyup keydown keypress blur",(function(){if(e){var t=l(this.value,!0);i.default("#id_slug").val(t)}}))}function d(){i.default("#id_slug").on("blur",(function(){i.default(this).val(l(i.default(this).val(),!1))}))}function u(){var e={};for(var t in i.default(".error-message").each((function(){var t=i.default(this).closest("section");e[t.attr("id")]||(e[t.attr("id")]=0),e[t.attr("id")]=e[t.attr("id")]+1})),e)i.default('[data-tab-nav] a[href="#'+t+'"]').addClass("errors").attr("data-count",e[t])}function s(){i.default(".object.multi-field.collapsible").each((function(){var e=i.default(this),t=e.find("fieldset"),n=function(){return t.get(0).dispatchEvent(new CustomEvent("commentAnchorVisibilityChange",{bubbles:!0}))};e.hasClass("collapsed")&&0===e.find(".error-message").length&&t.hide({complete:n}),e.find("> .title-wrapper").on("click",(function(){e.hasClass("collapsed")?(e.removeClass("collapsed"),t.show({duration:"slow",complete:n})):(e.addClass("collapsed"),t.hide({duration:"slow",complete:n}))}))}))}function f(){Mousetrap.bind(["mod+p"],(function(){return i.default(".action-preview").trigger("click"),!1})),Mousetrap.bind(["mod+s"],(function(){return i.default(".action-save").trigger("click"),!1}))}window.halloPlugins={},window.registerHalloPlugin=function(e,t){},window.InlinePanel=function(e){var t={setHasContent:function(){i.default("> li",t.formsUl).not(".deleted").length?t.formsUl.parent().removeClass("empty"):t.formsUl.parent().addClass("empty")},initChildControls:function(n){var o="inline_child_"+n,a="id_"+n+"-DELETE";t.setHasContent(),i.default("#"+a+"-button").on("click",(function(){i.default("#"+a).val("1"),i.default("#"+o).addClass("deleted").slideUp((function(){t.updateMoveButtonDisabledStates(),t.updateAddButtonState(),t.setHasContent()}))})),e.canOrder&&(i.default("#"+n+"-move-up").on("click",(function(){var e=i.default("#"+o),n=e.children('input[name$="-ORDER"]'),a=n.val(),l=e.prevAll(":not(.deleted)").first();if(l.length){var r=l.children('input[name$="-ORDER"]'),d=r.val();t.animateSwap(e,l),e.insertBefore(l),n.val(d),r.val(a),t.updateMoveButtonDisabledStates()}})),i.default("#"+n+"-move-down").on("click",(function(){var e=i.default("#"+o),n=e.children('input[name$="-ORDER"]'),a=n.val(),l=e.nextAll(":not(.deleted)").first();if(l.length){var r=l.children('input[name$="-ORDER"]'),d=r.val();t.animateSwap(e,l),e.insertAfter(l),n.val(d),r.val(a),t.updateMoveButtonDisabledStates()}}))),"1"===i.default("#"+a).val()&&(i.default("#"+o).addClass("deleted").hide(0,(function(){t.updateMoveButtonDisabledStates(),t.updateAddButtonState(),t.setHasContent()})),i.default("#"+o).find(".error-message").remove())}};return t.formsUl=i.default("#"+e.formsetPrefix+"-FORMS"),t.updateMoveButtonDisabledStates=function(){if(e.canOrder){var n=t.formsUl.children("li:not(.deleted)");n.each((function(e){i.default("ul.controls .inline-child-move-up",this).toggleClass("disabled",0===e).toggleClass("enabled",0!==e),i.default("ul.controls .inline-child-move-down",this).toggleClass("disabled",e===n.length-1).toggleClass("enabled",e!==n.length-1)}))}},t.updateAddButtonState=function(){if(e.maxForms){var n=i.default("> [data-inline-panel-child]",t.formsUl).not(".deleted"),o=i.default("#"+e.formsetPrefix+"-ADD");n.length>=e.maxForms?o.addClass("disabled"):o.removeClass("disabled")}},t.animateSwap=function(e,n){var o=t.formsUl,a=o.children("li:not(.deleted)");o.addClass("moving").css("height",o.height()),a.each((function(){i.default(this).css("top",i.default(this).position().top)})).addClass("moving"),e.animate({top:n.position().top},200,(function(){o.removeClass("moving").removeAttr("style"),a.removeClass("moving").removeAttr("style")})),n.animate({top:e.position().top},200,(function(){o.removeClass("moving").removeAttr("style"),a.removeClass("moving").removeAttr("style")}))},buildExpandingFormset(e.formsetPrefix,{onAdd:function(n){var o=e.emptyChildFormPrefix.replace(/__prefix__/g,n);t.initChildControls(o),e.canOrder&&i.default("#id_"+o+"-ORDER").val(n+1),t.updateMoveButtonDisabledStates(),t.updateAddButtonState(),e.onAdd&&e.onAdd()}}),t},window.cleanForSlug=l,window.initSlugAutoPopulate=r,window.initSlugCleaning=d,window.initErrorDetection=u,window.initCollapsibleBlocks=s,window.initKeyboardShortcuts=f,i.default((function(){i.default("body").hasClass("page-is-live")||r(),d(),u(),s(),f();var e=i.default(".action-preview"),t=i.default("#page-edit-form"),n=e.data("action"),o=-1;function a(){return i.default.ajax({url:n,method:"POST",data:new FormData(t[0]),processData:!1,contentType:!1})}e.one("click",(function(){e.data("auto-update")&&t.on("change keyup DOMSubtreeModified",(function(){clearTimeout(o),o=setTimeout(a,1e3)})).trigger("change")})),e.on("click",(function(e){e.preventDefault();var n=i.default(this),o=n.filter(".icon"),l=n.data("action");o.addClass("icon-spinner").removeClass("icon-view");var r=window.open("",l);r.focus(),a().done((function(e){e.is_valid?r.document.location=l:(window.focus(),r.close(),t.trigger("submit"))})).fail((function(){alert("Error while sending preview data."),window.focus(),r.close()})).always((function(){o.addClass("icon-view").removeClass("icon-spinner")}))}))}));var c=-1;window.updateFooterSaveWarning=function(e,t){var n=i.default("[data-unsaved-warning]"),a=n.find("[data-unsaved-type]"),l=e||t,r={all:e&&t,any:l,comments:t&&!e,edits:e&&!t},d=!1;l?n.removeClass("footer__container--hidden"):(n.hasClass("footer__container--hidden")||(d=!0),n.addClass("footer__container--hidden")),clearTimeout(c);var u=function(){var e,t;try{for(var n=o(a),i=n.next();!i.done;i=n.next()){var l=i.value,d=r[l.dataset.unsavedType];l.hidden=!d}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}};d?c=setTimeout(u,1050):u()},e.exports&&(e.exports.cleanForSlug=l)},73609:function(e){e.exports=jQuery}},t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.x=function(){},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=607,function(){var e={607:0},t=[[85843,751],[90971,751]],o=function(){},a=function(a,i){for(var l,r,d=i[0],u=i[1],s=i[2],f=i[3],c=0,p=[];c<d.length;c++)r=d[c],n.o(e,r)&&e[r]&&p.push(e[r][0]),e[r]=0;for(l in u)n.o(u,l)&&(n.m[l]=u[l]);for(s&&s(n),a&&a(i);p.length;)p.shift()();return f&&t.push.apply(t,f),o()},i=self.webpackChunkwagtail=self.webpackChunkwagtail||[];function l(){for(var o,a=0;a<t.length;a++){for(var i=t[a],l=!0,r=1;r<i.length;r++){var d=i[r];0!==e[d]&&(l=!1)}l&&(t.splice(a--,1),o=n(n.s=i[0]))}return 0===t.length&&(n.x(),n.x=function(){}),o}i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i));var r=n.x;n.x=function(){return n.x=r||function(){},(o=l)()}}(),n.x()}();
//# sourceMappingURL=page-editor.js.map