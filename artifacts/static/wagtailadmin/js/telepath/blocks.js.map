{"version":3,"sources":["webpack://wagtail/./client/src/components/StreamField/blocks/BaseSequenceBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/FieldBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/ListBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/StaticBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/StreamBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/StructBlock.js","webpack://wagtail/./client/src/entrypoints/admin/telepath/blocks.js","webpack://wagtail/./client/src/utils/text.ts","webpack://wagtail/./node_modules/uuid/dist/esm-browser/rng.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/regex.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/validate.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v1.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/parse.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v35.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/md5.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v3.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v4.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v5.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/nil.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/version.js","webpack://wagtail/webpack/bootstrap","webpack://wagtail/webpack/runtime/compat get default export","webpack://wagtail/webpack/runtime/define property getters","webpack://wagtail/webpack/runtime/global","webpack://wagtail/webpack/runtime/harmony module decorator","webpack://wagtail/webpack/runtime/hasOwnProperty shorthand","webpack://wagtail/webpack/runtime/make namespace object","webpack://wagtail/webpack/runtime/runtimeId","webpack://wagtail/webpack/runtime/jsonp chunk loading","webpack://wagtail/webpack/startup"],"names":["__read","this","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__values","s","length","TypeError","exports","__esModule","BaseSequenceBlock","BaseInsertionControl","BaseSequenceChild","text_1","blockDef","placeholder","prefix","index","id","initialState","opts","_this","type","name","animate","onRequestDuplicate","onRequestDelete","onRequestMoveUp","onRequestMoveDown","collapsed","strings","dom","$","escapeHtml","meta","icon","label","MOVE_UP","MOVE_DOWN","DUPLICATE","DELETE","replaceWith","element","get","blockElement","find","duplicateButton","click","titleElement","contentElement","toggleCollapsedState","deletedInput","indexInput","moveUpButton","moveDownButton","block","render","collapse","hide","setTimeout","slideDown","prototype","markDeleted","_a","_b","_c","val","slideUp","dequeue","fadeOut","attr","contentPath","window","comments","getContentPath","commentApp","invalidateContentPath","enableDuplication","removeAttr","disableDuplication","enableMoveUp","disableMoveUp","enableMoveDown","disableMoveDown","setIndex","newIndex","setError","focus","getTextLabel","maxLength","text","dispatchEvent","CustomEvent","bubbles","expand","show","onRequestInsert","_createChild","Error","_createInsertionControl","_getChildDataForInsertion","clear","countInput","sequenceContainer","empty","children","blockCounter","document","createElement","append","inserters","_onRequestInsert","_insert","soft","childBlockDef","existingInserterElement","blockPlaceholder","inserterPlaceholder","insertAfter","child","duplicateBlock","deleteBlock","moveBlock","splice","inserter","inserterOpts","isFirstChild","isLastChild","oldIndex","inserterToMove","childToMove","insertBefore","maxIndex","setState","values","forEach","insert","getState","map","getValue","e_1","result","childLabel","newResult","endsWith","e_1_1","FieldBlockDefinition","FieldBlock","initialError","classname","widgetElement","widget","console","messages","idForLabel","helpText","helpElement","classList","add","innerHTML","querySelector","appendChild","showAddCommentButton","fieldCommentControlElement","addCommentButtonElement","setAttribute","ADD_COMMENT","initAddCommentButton","state","errorList","querySelectorAll","remove","errorElement","join","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","String","__","constructor","create","ListBlockDefinition","ListBlock","ListBlockValidationError","BaseSequenceBlock_1","blockErrors","ListChild","_super","apply","arguments","InsertPosition","button","ADD","helpIcon","initialChildState","childState","blockIndex","StaticBlockDefinition","StaticBlock","html","_state","_errorList","StreamBlockDefinition","StreamBlock","StreamBlockValidationError","uuid_1","nonBlockErrors","StreamChild","StreamBlockMenu","groupedChildBlockDefs","addButton","toggle","outerContainer","innerContainer","hasRenderedMenu","isOpen","canAddBlock","disabledBlockTypes","Set","close","renderMenu","group","blockDefs","heading","grid","blockType","setNewBlockRestrictions","open","addClass","removeClass","container","checkBlockCounts","maxNum","_loop_1","this_1","blockCounts","counts","max_num","filter","has","childBlockDefsByName","initialChildStates","v4","nonBlockError","childNodes","StructBlockDefinition","StructBlock","StructBlockValidationError","childBlocks","formTemplate","replace","dom_1","childBlockDefs","childBlockElement","childBlock","dom_2","childDom","required","labelElement","name_1","blockName","name_2","name_3","childDef","firstChildName","FieldBlock_1","StaticBlock_1","StructBlock_1","ListBlock_1","StreamBlock_1","wagtailStreamField","blocks","initBlockWidget","body","blockDefData","JSON","parse","dataset","telepath","unpack","blockValue","errors","register","unsafe","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","uuid","byteToHex","toString","substr","_nodeId","_clockseq","arr","offset","undefined","toLowerCase","_lastMSecs","_lastNSecs","options","buf","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","v","parseInt","slice","version","hashfunc","generateUUID","namespace","str","unescape","encodeURIComponent","bytes","charCodeAt","stringToBytes","set","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","a","t","num","cnt","md5ff","c","md5gg","md5hh","md5ii","v35","msg","input","output","length32","hexTab","hex","charAt","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","f","z","ROTL","K","H","isArray","l","N","Math","ceil","M","_i","j","pow","floor","_i2","W","_t","_t2","T","__webpack_module_cache__","__webpack_require__","moduleId","module","loaded","__webpack_modules__","getter","definition","key","defineProperty","enumerable","g","globalThis","Function","hmd","obj","prop","toStringTag","installedChunks","849","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","chunkLoadingGlobal","self","checkDeferredModulesImpl","deferredModule","fulfilled","depId","startup"],"mappings":"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","file":"wagtail/admin/static/wagtailadmin/js/telepath/blocks.js","sourcesContent":["\"use strict\";\n/* eslint-disable no-underscore-dangle */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexports.__esModule = true;\nexports.BaseSequenceBlock = exports.BaseInsertionControl = exports.BaseSequenceChild = void 0;\n/* global $ */\nvar text_1 = require(\"../../../utils/text\");\nvar BaseSequenceChild = /** @class */ (function () {\n    function BaseSequenceChild(blockDef, placeholder, prefix, index, id, initialState, opts) {\n        var _this = this;\n        this.blockDef = blockDef;\n        this.type = blockDef.name;\n        this.prefix = prefix;\n        this.index = index;\n        this.id = id;\n        var animate = opts && opts.animate;\n        this.onRequestDuplicate = opts && opts.onRequestDuplicate;\n        this.onRequestDelete = opts && opts.onRequestDelete;\n        this.onRequestMoveUp = opts && opts.onRequestMoveUp;\n        this.onRequestMoveDown = opts && opts.onRequestMoveDown;\n        this.collapsed = opts && opts.collapsed;\n        var strings = (opts && opts.strings) || {};\n        var dom = $(\"\\n      <div aria-hidden=\\\"false\\\" \" + (this.id ? \"data-contentpath=\\\"\" + text_1.escapeHtml(this.id) + \"\\\"\" : 'data-contentpath-disabled') + \">\\n        <input type=\\\"hidden\\\"  name=\\\"\" + this.prefix + \"-deleted\\\" value=\\\"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + this.prefix + \"-order\\\" value=\\\"\" + index + \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + this.prefix + \"-type\\\" value=\\\"\" + text_1.escapeHtml(this.type || '') + \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + this.prefix + \"-id\\\" value=\\\"\" + text_1.escapeHtml(this.id || '') + \"\\\">\\n\\n        <div>\\n          <div class=\\\"c-sf-container__block-container\\\">\\n            <div class=\\\"c-sf-block\\\">\\n              <div data-block-header class=\\\"c-sf-block__header c-sf-block__header--collapsible\\\">\\n                <span class=\\\"c-sf-block__header__icon\\\">\\n                  <i class=\\\"icon icon-\" + text_1.escapeHtml(this.blockDef.meta.icon) + \"\\\"></i>\\n                </span>\\n                <h3 data-block-title class=\\\"c-sf-block__header__title\\\"></h3>\\n                <div class=\\\"c-sf-block__actions\\\">\\n                  <span class=\\\"c-sf-block__type\\\">\" + text_1.escapeHtml(this.blockDef.meta.label) + \"</span>\\n                  <button type=\\\"button\\\" data-move-up-button class=\\\"c-sf-block__actions__single\\\"\\n                      disabled title=\\\"\" + text_1.escapeHtml(strings.MOVE_UP) + \"\\\">\\n                    <i class=\\\"icon icon-arrow-up\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" data-move-down-button class=\\\"c-sf-block__actions__single\\\"\\n                      disabled title=\\\"\" + text_1.escapeHtml(strings.MOVE_DOWN) + \"\\\">\\n                    <i class=\\\"icon icon-arrow-down\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" data-duplicate-button\\n                      class=\\\"c-sf-block__actions__single\\\" title=\\\"\" + text_1.escapeHtml(strings.DUPLICATE) + \"\\\">\\n                    <i class=\\\"icon icon-duplicate\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" data-delete-button\\n                      class=\\\"c-sf-block__actions__single\\\" title=\\\"\" + text_1.escapeHtml(strings.DELETE) + \"\\\">\\n                    <i class=\\\"icon icon-bin\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                </div>\\n              </div>\\n              <div data-block-content class=\\\"c-sf-block__content\\\" aria-hidden=\\\"false\\\">\\n                <div class=\\\"c-sf-block__content-inner\\\">\\n                  <div data-streamfield-block></div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    \");\n        $(placeholder).replaceWith(dom);\n        this.element = dom.get(0);\n        var blockElement = dom.find('[data-streamfield-block]').get(0);\n        this.duplicateButton = dom.find('button[data-duplicate-button]');\n        this.duplicateButton.click(function () {\n            if (_this.onRequestDuplicate)\n                _this.onRequestDuplicate(_this.index);\n            return false; // don't propagate to header's onclick event (which collapses the block)\n        });\n        this.titleElement = dom.find('[data-block-title]');\n        this.contentElement = dom.find('[data-block-content]');\n        dom.find('[data-block-header]').click(function () {\n            _this.toggleCollapsedState();\n        });\n        dom.find('button[data-delete-button]').click(function () {\n            if (_this.onRequestDelete)\n                _this.onRequestDelete(_this.index);\n            return false; // don't propagate to header's onclick event (which collapses the block)\n        });\n        this.deletedInput = dom.find(\"input[name=\\\"\" + this.prefix + \"-deleted\\\"]\");\n        this.indexInput = dom.find(\"input[name=\\\"\" + this.prefix + \"-order\\\"]\");\n        this.moveUpButton = dom.find('button[data-move-up-button]');\n        this.moveUpButton.click(function () {\n            if (_this.onRequestMoveUp)\n                _this.onRequestMoveUp(_this.index);\n            return false; // don't propagate to header's onclick event (which collapses the block)\n        });\n        this.moveDownButton = dom.find('button[data-move-down-button]');\n        this.moveDownButton.click(function () {\n            if (_this.onRequestMoveDown)\n                _this.onRequestMoveDown(_this.index);\n            return false; // don't propagate to header's onclick event (which collapses the block)\n        });\n        this.block = this.blockDef.render(blockElement, this.prefix + '-value', initialState);\n        if (this.collapsed) {\n            this.collapse();\n        }\n        if (animate) {\n            dom.hide();\n            setTimeout(function () {\n                dom.slideDown();\n            }, 10);\n        }\n    }\n    BaseSequenceChild.prototype.markDeleted = function (_a) {\n        var _b;\n        var _c = _a.animate, animate = _c === void 0 ? false : _c;\n        this.deletedInput.val('1');\n        if (animate) {\n            $(this.element).slideUp().dequeue()\n                .fadeOut()\n                .attr('aria-hidden', 'true');\n        }\n        else {\n            $(this.element).hide().attr('aria-hidden', 'true');\n        }\n        // Inform the comment app that the content path of this block is no longer valid\n        // This will hide any comments that were previously on the block\n        var contentPath = (_b = window.comments) === null || _b === void 0 ? void 0 : _b.getContentPath(this.element);\n        if (contentPath && window.comments.commentApp) {\n            window.comments.commentApp.invalidateContentPath(contentPath);\n        }\n    };\n    BaseSequenceChild.prototype.enableDuplication = function () {\n        this.duplicateButton.removeAttr('disabled');\n    };\n    BaseSequenceChild.prototype.disableDuplication = function () {\n        this.duplicateButton.attr('disabled', 'true');\n    };\n    BaseSequenceChild.prototype.enableMoveUp = function () {\n        this.moveUpButton.removeAttr('disabled');\n    };\n    BaseSequenceChild.prototype.disableMoveUp = function () {\n        this.moveUpButton.attr('disabled', 'true');\n    };\n    BaseSequenceChild.prototype.enableMoveDown = function () {\n        this.moveDownButton.removeAttr('disabled');\n    };\n    BaseSequenceChild.prototype.disableMoveDown = function () {\n        this.moveDownButton.attr('disabled', 'true');\n    };\n    BaseSequenceChild.prototype.setIndex = function (newIndex) {\n        this.index = newIndex;\n        this.indexInput.val(newIndex);\n    };\n    BaseSequenceChild.prototype.setError = function (error) {\n        this.block.setError(error);\n    };\n    BaseSequenceChild.prototype.focus = function (opts) {\n        this.block.focus(opts);\n    };\n    BaseSequenceChild.prototype.getTextLabel = function (opts) {\n        if (this.block.getTextLabel) {\n            return this.block.getTextLabel(opts);\n        }\n        return null;\n    };\n    BaseSequenceChild.prototype.collapse = function () {\n        this.contentElement.hide().attr('aria-hidden', 'true');\n        var label = this.getTextLabel({ maxLength: 50 });\n        this.titleElement.text(label || '');\n        this.collapsed = true;\n        this.contentElement.get(0).dispatchEvent(new CustomEvent('commentAnchorVisibilityChange', { bubbles: true }));\n    };\n    BaseSequenceChild.prototype.expand = function () {\n        this.contentElement.show().attr('aria-hidden', 'false');\n        this.titleElement.text('');\n        this.collapsed = false;\n        this.contentElement.get(0).dispatchEvent(new CustomEvent('commentAnchorVisibilityChange', { bubbles: true }));\n    };\n    BaseSequenceChild.prototype.toggleCollapsedState = function () {\n        if (this.collapsed) {\n            this.expand();\n        }\n        else {\n            this.collapse();\n        }\n    };\n    return BaseSequenceChild;\n}());\nexports.BaseSequenceChild = BaseSequenceChild;\nvar BaseInsertionControl = /** @class */ (function () {\n    /* Base class for controls that appear between blocks in a sequence, to allow inserting new\n    blocks at that point. Subclasses should render an HTML structure with a single root element\n    (replacing the placeholder passed to the constructor) and set it as this.element.\n    When the user requests to insert a block, we call onRequestInsert passing the index number\n    and a dict of control-specific options. */\n    function BaseInsertionControl(placeholder, opts) {\n        this.index = opts && opts.index;\n        this.onRequestInsert = opts && opts.onRequestInsert;\n    }\n    BaseInsertionControl.prototype.setIndex = function (newIndex) {\n        this.index = newIndex;\n    };\n    BaseInsertionControl.prototype[\"delete\"] = function (_a) {\n        var _b = _a.animate, animate = _b === void 0 ? false : _b;\n        if (animate) {\n            $(this.element).slideUp().attr('aria-hidden', 'true');\n        }\n        else {\n            $(this.element).hide().attr('aria-hidden', 'true');\n        }\n    };\n    return BaseInsertionControl;\n}());\nexports.BaseInsertionControl = BaseInsertionControl;\nvar BaseSequenceBlock = /** @class */ (function () {\n    function BaseSequenceBlock() {\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    BaseSequenceBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, opts) {\n        throw new Error('not implemented');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    BaseSequenceBlock.prototype._createInsertionControl = function (placeholder, opts) {\n        throw new Error('not implemented');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    BaseSequenceBlock.prototype._getChildDataForInsertion = function (opts) {\n        throw new Error('not implemented');\n    };\n    BaseSequenceBlock.prototype.clear = function () {\n        var _this = this;\n        this.countInput.val(0);\n        this.sequenceContainer.empty();\n        this.children = [];\n        this.blockCounter = 0;\n        // Create initial insertion control\n        var placeholder = document.createElement('div');\n        this.sequenceContainer.append(placeholder);\n        this.inserters = [\n            this._createInsertionControl(placeholder, {\n                index: 0,\n                onRequestInsert: function (newIndex, opts) {\n                    _this._onRequestInsert(newIndex, opts);\n                },\n                strings: this.blockDef.meta.strings,\n            })\n        ];\n    };\n    BaseSequenceBlock.prototype._onRequestInsert = function (index, opts) {\n        /* handler for an 'insert new block' action */\n        var _a = __read(this._getChildDataForInsertion(opts), 3), blockDef = _a[0], initialState = _a[1], id = _a[2];\n        var newChild = this._insert(blockDef, initialState, id || null, index, { animate: true });\n        // focus the newly added field if we can do so without obtrusive UI behaviour\n        newChild.focus({ soft: true });\n    };\n    BaseSequenceBlock.prototype._insert = function (childBlockDef, initialState, id, index, opts) {\n        var _this = this;\n        var prefix = this.prefix + '-' + this.blockCounter;\n        var animate = opts && opts.animate;\n        var collapsed = opts && opts.collapsed;\n        this.blockCounter++;\n        /*\n        a new inserter and block will be inserted AFTER the inserter with the given index;\n        e.g if there are 3 blocks the children of sequenceContainer will be\n        [inserter 0, block 0, inserter 1, block 1, inserter 2, block 2, inserter 3]\n        and inserting a new block at index 1 will create a new block 1 and inserter 2 after the\n        current inserter 1, and increment everything after that point\n        */\n        var existingInserterElement = this.inserters[index].element;\n        var blockPlaceholder = document.createElement('div');\n        var inserterPlaceholder = document.createElement('div');\n        $(blockPlaceholder).insertAfter(existingInserterElement);\n        $(inserterPlaceholder).insertAfter(blockPlaceholder);\n        /* shuffle up indexes of all blocks / inserters above this index */\n        for (var i = index; i < this.children.length; i++) {\n            this.children[i].setIndex(i + 1);\n        }\n        for (var i = index + 1; i < this.inserters.length; i++) {\n            this.inserters[i].setIndex(i + 1);\n        }\n        var child = this._createChild(childBlockDef, blockPlaceholder, prefix, index, id, initialState, {\n            animate: animate,\n            collapsed: collapsed,\n            onRequestDuplicate: function (i) { _this.duplicateBlock(i, { animate: true }); },\n            onRequestDelete: function (i) { _this.deleteBlock(i, { animate: true }); },\n            onRequestMoveUp: function (i) { _this.moveBlock(i, i - 1); },\n            onRequestMoveDown: function (i) { _this.moveBlock(i, i + 1); },\n            strings: this.blockDef.meta.strings,\n        });\n        this.children.splice(index, 0, child);\n        var inserter = this._createInsertionControl(inserterPlaceholder, {\n            index: index + 1,\n            onRequestInsert: function (newIndex, inserterOpts) {\n                _this._onRequestInsert(newIndex, inserterOpts);\n            },\n            strings: this.blockDef.meta.strings,\n            animate: animate,\n        });\n        this.inserters.splice(index + 1, 0, inserter);\n        this.countInput.val(this.blockCounter);\n        var isFirstChild = (index === 0);\n        var isLastChild = (index === this.children.length - 1);\n        if (!isFirstChild) {\n            child.enableMoveUp();\n            if (isLastChild) {\n                /* previous child (which was previously the last one) can now move down */\n                this.children[index - 1].enableMoveDown();\n            }\n        }\n        if (!isLastChild) {\n            child.enableMoveDown();\n            if (isFirstChild) {\n                /* next child (which was previously the first one) can now move up */\n                this.children[index + 1].enableMoveUp();\n            }\n        }\n        return child;\n    };\n    BaseSequenceBlock.prototype.deleteBlock = function (index, opts) {\n        var animate = opts && opts.animate;\n        this.children[index].markDeleted({ animate: animate });\n        this.inserters[index][\"delete\"]({ animate: animate });\n        this.children.splice(index, 1);\n        this.inserters.splice(index, 1);\n        /* index numbers of children / inserters above this index now need updating to match\n        their array indexes */\n        for (var i = index; i < this.children.length; i++) {\n            this.children[i].setIndex(i);\n        }\n        for (var i = index; i < this.inserters.length; i++) {\n            this.inserters[i].setIndex(i);\n        }\n        if (index === 0 && this.children.length > 0) {\n            /* we have removed the first child; the new first child cannot be moved up */\n            this.children[0].disableMoveUp();\n        }\n        if (index === this.children.length && this.children.length > 0) {\n            /* we have removed the last child; the new last child cannot be moved down */\n            this.children[this.children.length - 1].disableMoveDown();\n        }\n    };\n    BaseSequenceBlock.prototype.moveBlock = function (oldIndex, newIndex) {\n        if (oldIndex === newIndex)\n            return;\n        var inserterToMove = this.inserters[oldIndex];\n        var childToMove = this.children[oldIndex];\n        /* move HTML elements */\n        if (newIndex > oldIndex) {\n            $(inserterToMove.element).insertAfter(this.children[newIndex].element);\n        }\n        else {\n            $(inserterToMove.element).insertBefore(this.inserters[newIndex].element);\n        }\n        $(childToMove.element).insertAfter(inserterToMove.element);\n        /* reorder items in the `inserters` and `children` arrays */\n        this.inserters.splice(oldIndex, 1);\n        this.inserters.splice(newIndex, 0, inserterToMove);\n        this.children.splice(oldIndex, 1);\n        this.children.splice(newIndex, 0, childToMove);\n        /* update index properties of moved items */\n        if (newIndex > oldIndex) {\n            for (var i = oldIndex; i <= newIndex; i++) {\n                this.inserters[i].setIndex(i);\n                this.children[i].setIndex(i);\n            }\n        }\n        else {\n            for (var i = newIndex; i <= oldIndex; i++) {\n                this.inserters[i].setIndex(i);\n                this.children[i].setIndex(i);\n            }\n        }\n        /* enable/disable up/down arrows as required */\n        var maxIndex = this.children.length - 1;\n        if (oldIndex === 0) {\n            childToMove.enableMoveUp();\n            this.children[0].disableMoveUp();\n        }\n        if (oldIndex === maxIndex) {\n            childToMove.enableMoveDown();\n            this.children[maxIndex].disableMoveDown();\n        }\n        if (newIndex === 0) {\n            childToMove.disableMoveUp();\n            this.children[1].enableMoveUp();\n        }\n        if (newIndex === maxIndex) {\n            childToMove.disableMoveDown();\n            this.children[maxIndex - 1].enableMoveDown();\n        }\n    };\n    BaseSequenceBlock.prototype.setState = function (values) {\n        var _this = this;\n        this.clear();\n        values.forEach(function (val, i) {\n            _this.insert(val, i);\n        });\n    };\n    BaseSequenceBlock.prototype.getState = function () {\n        return this.children.map(function (child) { return child.getState(); });\n    };\n    BaseSequenceBlock.prototype.getValue = function () {\n        return this.children.map(function (child) { return child.getValue(); });\n    };\n    BaseSequenceBlock.prototype.getTextLabel = function (opts) {\n        var e_1, _a;\n        /* Use as many child text labels as we can fit into maxLength */\n        var maxLength = opts && opts.maxLength;\n        var result = '';\n        try {\n            for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                var childLabel = child.getTextLabel({ maxLength: maxLength });\n                if (childLabel) {\n                    if (!result) {\n                        // always use the first child, truncated as necessary\n                        result = childLabel;\n                    }\n                    else {\n                        var newResult = (result + ', ' + childLabel);\n                        if (maxLength && newResult.length > maxLength - 1) {\n                            // too long, so don't add this; return the current list with an ellipsis instead\n                            if (!result.endsWith('…'))\n                                result += '…';\n                            return result;\n                        }\n                        result = newResult;\n                    }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return result;\n    };\n    BaseSequenceBlock.prototype.focus = function (opts) {\n        if (this.children.length) {\n            this.children[0].focus(opts);\n        }\n    };\n    return BaseSequenceBlock;\n}());\nexports.BaseSequenceBlock = BaseSequenceBlock;\n","\"use strict\";\n/* global $ */\nexports.__esModule = true;\nexports.FieldBlockDefinition = exports.FieldBlock = void 0;\nvar text_1 = require(\"../../../utils/text\");\nvar FieldBlock = /** @class */ (function () {\n    function FieldBlock(blockDef, placeholder, prefix, initialState, initialError) {\n        this.blockDef = blockDef;\n        this.type = blockDef.name;\n        var dom = $(\"\\n      <div class=\\\"\" + text_1.escapeHtml(this.blockDef.meta.classname) + \"\\\">\\n        <div class=\\\"field-content\\\">\\n          <div class=\\\"input\\\">\\n            <div data-streamfield-widget></div>\\n            <span></span>\\n          </div>\\n        </div>\\n      </div>\\n    \");\n        $(placeholder).replaceWith(dom);\n        var widgetElement = dom.find('[data-streamfield-widget]').get(0);\n        this.element = dom[0];\n        try {\n            this.widget = this.blockDef.widget.render(widgetElement, prefix, prefix, initialState);\n        }\n        catch (e) {\n            // eslint-disable-next-line no-console\n            console.error(e);\n            this.setError([\n                { messages: ['This widget failed to render, please check the console for details'] }\n            ]);\n            return;\n        }\n        this.idForLabel = this.widget.idForLabel;\n        if (this.blockDef.meta.helpText) {\n            var helpElement = document.createElement('p');\n            helpElement.classList.add('help');\n            helpElement.innerHTML = this.blockDef.meta.helpText; // unescaped, as per Django conventions\n            this.element.querySelector('.field-content').appendChild(helpElement);\n        }\n        if (window.comments && this.blockDef.meta.showAddCommentButton) {\n            var fieldCommentControlElement = document.createElement('div');\n            fieldCommentControlElement.classList.add('field-comment-control');\n            this.element.appendChild(fieldCommentControlElement);\n            var addCommentButtonElement = document.createElement('button');\n            addCommentButtonElement.type = 'button';\n            addCommentButtonElement.setAttribute('aria-label', blockDef.meta.strings.ADD_COMMENT);\n            addCommentButtonElement.setAttribute('data-comment-add', '');\n            addCommentButtonElement.classList.add('button');\n            addCommentButtonElement.classList.add('button-secondary');\n            addCommentButtonElement.classList.add('button-small');\n            addCommentButtonElement.classList.add('u-hidden');\n            addCommentButtonElement.innerHTML = '<svg class=\"icon icon-comment-add initial icon-default\" aria-hidden=\"true\" focusable=\"false\"><use href=\"#icon-comment-add\"></use></svg><svg class=\"icon icon-comment-add initial icon-reversed\" aria-hidden=\"true\" focusable=\"false\"><use href=\"#icon-comment-add-reversed\"></use></svg>';\n            fieldCommentControlElement.appendChild(addCommentButtonElement);\n            window.comments.initAddCommentButton(addCommentButtonElement);\n        }\n        if (initialError) {\n            this.setError(initialError);\n        }\n    }\n    FieldBlock.prototype.setState = function (state) {\n        if (this.widget) {\n            this.widget.setState(state);\n        }\n    };\n    FieldBlock.prototype.setError = function (errorList) {\n        this.element.querySelectorAll(':scope > .field-content > .error-message').forEach(function (element) { return element.remove(); });\n        if (errorList) {\n            this.element.classList.add('error');\n            var errorElement = document.createElement('p');\n            errorElement.classList.add('error-message');\n            errorElement.innerHTML = errorList.map(function (error) { return \"<span>\" + text_1.escapeHtml(error.messages[0]) + \"</span>\"; }).join('');\n            this.element.querySelector('.field-content').appendChild(errorElement);\n        }\n        else {\n            this.element.classList.remove('error');\n        }\n    };\n    FieldBlock.prototype.getState = function () {\n        return this.widget.getState();\n    };\n    FieldBlock.prototype.getValue = function () {\n        return this.widget.getValue();\n    };\n    FieldBlock.prototype.getTextLabel = function (opts) {\n        if (this.widget.getTextLabel) {\n            return this.widget.getTextLabel(opts);\n        }\n        return null;\n    };\n    FieldBlock.prototype.focus = function (opts) {\n        if (this.widget) {\n            this.widget.focus(opts);\n        }\n    };\n    return FieldBlock;\n}());\nexports.FieldBlock = FieldBlock;\nvar FieldBlockDefinition = /** @class */ (function () {\n    function FieldBlockDefinition(name, widget, meta) {\n        this.name = name;\n        this.widget = widget;\n        this.meta = meta;\n    }\n    FieldBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\n        return new FieldBlock(this, placeholder, prefix, initialState, initialError);\n    };\n    return FieldBlockDefinition;\n}());\nexports.FieldBlockDefinition = FieldBlockDefinition;\n","\"use strict\";\n/* eslint-disable no-underscore-dangle */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nexports.ListBlockDefinition = exports.ListBlock = exports.ListBlockValidationError = void 0;\nvar BaseSequenceBlock_1 = require(\"./BaseSequenceBlock\");\nvar text_1 = require(\"../../../utils/text\");\n/* global $ */\nvar ListBlockValidationError = /** @class */ (function () {\n    function ListBlockValidationError(blockErrors) {\n        this.blockErrors = blockErrors;\n    }\n    return ListBlockValidationError;\n}());\nexports.ListBlockValidationError = ListBlockValidationError;\nvar ListChild = /** @class */ (function (_super) {\n    __extends(ListChild, _super);\n    function ListChild() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /*\n    wrapper for an item inside a ListBlock\n    */\n    ListChild.prototype.getState = function () {\n        return this.block.getState();\n    };\n    ListChild.prototype.getValue = function () {\n        return this.block.getValue();\n    };\n    return ListChild;\n}(BaseSequenceBlock_1.BaseSequenceChild));\nvar InsertPosition = /** @class */ (function (_super) {\n    __extends(InsertPosition, _super);\n    /*\n    Represents a position in the DOM where a new list item can be inserted.\n  \n    This renders a + button. Later, these could also be used to represent drop zones for drag+drop reordering.\n    */\n    function InsertPosition(placeholder, opts) {\n        var _this = _super.call(this, placeholder, opts) || this;\n        _this.onRequestInsert = opts && opts.onRequestInsert;\n        var animate = opts && opts.animate;\n        var button = $(\"\\n      <button type=\\\"button\\\" title=\\\"\" + text_1.escapeHtml(opts.strings.ADD) + \"\\\" data-streamfield-list-add\\n          class=\\\"c-sf-add-button c-sf-add-button--visible\\\">\\n        <i aria-hidden=\\\"true\\\">+</i>\\n      </button>\\n    \");\n        $(placeholder).replaceWith(button);\n        _this.element = button.get(0);\n        button.click(function () {\n            if (_this.onRequestInsert) {\n                _this.onRequestInsert(_this.index);\n            }\n        });\n        if (animate) {\n            button.hide().slideDown();\n        }\n        return _this;\n    }\n    return InsertPosition;\n}(BaseSequenceBlock_1.BaseInsertionControl));\nvar ListBlock = /** @class */ (function (_super) {\n    __extends(ListBlock, _super);\n    function ListBlock(blockDef, placeholder, prefix, initialState, initialError) {\n        var _this = this;\n        _this.blockDef = blockDef;\n        _this.type = blockDef.name;\n        _this.prefix = prefix;\n        var dom = $(\"\\n      <div class=\\\"c-sf-container \" + text_1.escapeHtml(_this.blockDef.meta.classname || '') + \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + text_1.escapeHtml(prefix) + \"-count\\\" data-streamfield-list-count value=\\\"0\\\">\\n\\n        <div data-streamfield-list-container></div>\\n      </div>\\n    \");\n        $(placeholder).replaceWith(dom);\n        if (_this.blockDef.meta.helpText) {\n            // help text is left unescaped as per Django conventions\n            $(\"\\n        <span>\\n          <div class=\\\"help\\\">\\n            \" + _this.blockDef.meta.helpIcon + \"\\n            \" + _this.blockDef.meta.helpText + \"\\n          </div>\\n        </span>\\n      \").insertBefore(dom);\n        }\n        _this.children = [];\n        _this.inserters = [];\n        _this.blockCounter = 0;\n        _this.countInput = dom.find('[data-streamfield-list-count]');\n        _this.sequenceContainer = dom.find('[data-streamfield-list-container]');\n        _this.setState(initialState || []);\n        if (initialError) {\n            _this.setError(initialError);\n        }\n        return _this;\n    }\n    ListBlock.prototype._getChildDataForInsertion = function () {\n        /* Called when an 'insert new block' action is triggered: given a dict of data from the insertion control,\n        return the block definition and initial state to be used for the new block.\n        For a ListBlock, no data is passed from the insertion control, as there is a single fixed child block definition.\n        */\n        var blockDef = this.blockDef.childBlockDef;\n        var initialState = this.blockDef.initialChildState;\n        return [blockDef, initialState];\n    };\n    ListBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, opts) {\n        return new ListChild(blockDef, placeholder, prefix, index, id, initialState, opts);\n    };\n    ListBlock.prototype._createInsertionControl = function (placeholder, opts) {\n        return new InsertPosition(placeholder, opts);\n    };\n    ListBlock.prototype.insert = function (value, index, opts) {\n        return this._insert(this.blockDef.childBlockDef, value, null, index, opts);\n    };\n    ListBlock.prototype.duplicateBlock = function (index, opts) {\n        var child = this.children[index];\n        var childState = child.getState();\n        var animate = opts && opts.animate;\n        this.insert(childState, index + 1, { animate: animate, collapsed: child.collapsed });\n        this.children[index + 1].focus({ soft: true });\n    };\n    ListBlock.prototype.setError = function (errorList) {\n        if (errorList.length !== 1) {\n            return;\n        }\n        var error = errorList[0];\n        // eslint-disable-next-line no-restricted-syntax\n        for (var blockIndex in error.blockErrors) {\n            if (error.blockErrors.hasOwnProperty(blockIndex)) {\n                this.children[blockIndex].setError(error.blockErrors[blockIndex]);\n            }\n        }\n    };\n    return ListBlock;\n}(BaseSequenceBlock_1.BaseSequenceBlock));\nexports.ListBlock = ListBlock;\nvar ListBlockDefinition = /** @class */ (function () {\n    function ListBlockDefinition(name, childBlockDef, initialChildState, meta) {\n        this.name = name;\n        this.childBlockDef = childBlockDef;\n        this.initialChildState = initialChildState;\n        this.meta = meta;\n    }\n    ListBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\n        return new ListBlock(this, placeholder, prefix, initialState, initialError);\n    };\n    return ListBlockDefinition;\n}());\nexports.ListBlockDefinition = ListBlockDefinition;\n","\"use strict\";\nexports.__esModule = true;\nexports.StaticBlockDefinition = exports.StaticBlock = void 0;\nvar text_1 = require(\"../../../utils/text\");\nvar StaticBlock = /** @class */ (function () {\n    function StaticBlock(blockDef, placeholder) {\n        this.blockDef = blockDef;\n        var element = document.createElement('div');\n        if (this.blockDef.meta.html) {\n            element.innerHTML = this.blockDef.meta.html;\n        }\n        else {\n            element.innerHTML = text_1.escapeHtml(this.blockDef.meta.text);\n        }\n        placeholder.replaceWith(element);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n    StaticBlock.prototype.setState = function (_state) { };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n    StaticBlock.prototype.setError = function (_errorList) { };\n    StaticBlock.prototype.getState = function () {\n        return null;\n    };\n    StaticBlock.prototype.getValue = function () {\n        return null;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    StaticBlock.prototype.focus = function () { };\n    return StaticBlock;\n}());\nexports.StaticBlock = StaticBlock;\nvar StaticBlockDefinition = /** @class */ (function () {\n    function StaticBlockDefinition(name, meta) {\n        this.name = name;\n        this.meta = meta;\n    }\n    StaticBlockDefinition.prototype.render = function (placeholder) {\n        return new StaticBlock(this, placeholder);\n    };\n    return StaticBlockDefinition;\n}());\nexports.StaticBlockDefinition = StaticBlockDefinition;\n","\"use strict\";\n/* eslint-disable no-underscore-dangle */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nexports.__esModule = true;\nexports.StreamBlockDefinition = exports.StreamBlock = exports.StreamBlockValidationError = void 0;\nvar uuid_1 = require(\"uuid\");\nvar BaseSequenceBlock_1 = require(\"./BaseSequenceBlock\");\nvar text_1 = require(\"../../../utils/text\");\n/* global $ */\nvar StreamBlockValidationError = /** @class */ (function () {\n    function StreamBlockValidationError(nonBlockErrors, blockErrors) {\n        this.nonBlockErrors = nonBlockErrors;\n        this.blockErrors = blockErrors;\n    }\n    return StreamBlockValidationError;\n}());\nexports.StreamBlockValidationError = StreamBlockValidationError;\nvar StreamChild = /** @class */ (function (_super) {\n    __extends(StreamChild, _super);\n    function StreamChild() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /*\n    wrapper for a block inside a StreamBlock, handling StreamBlock-specific metadata\n    such as id\n    */\n    StreamChild.prototype.getState = function () {\n        return {\n            type: this.type,\n            value: this.block.getState(),\n            id: this.id,\n        };\n    };\n    StreamChild.prototype.getValue = function () {\n        return {\n            type: this.type,\n            value: this.block.getValue(),\n            id: this.id,\n        };\n    };\n    return StreamChild;\n}(BaseSequenceBlock_1.BaseSequenceChild));\nvar StreamBlockMenu = /** @class */ (function (_super) {\n    __extends(StreamBlockMenu, _super);\n    function StreamBlockMenu(placeholder, opts) {\n        var _this = _super.call(this, placeholder, opts) || this;\n        _this.groupedChildBlockDefs = opts.groupedChildBlockDefs;\n        var animate = opts.animate;\n        var dom = $(\"\\n      <div>\\n        <button data-streamblock-menu-open type=\\\"button\\\" title=\\\"\" + text_1.escapeHtml(opts.strings.ADD) + \"\\\"\\n            class=\\\"c-sf-add-button c-sf-add-button--visible\\\">\\n          <i aria-hidden=\\\"true\\\">+</i>\\n        </button>\\n        <div data-streamblock-menu-outer>\\n          <div data-streamblock-menu-inner class=\\\"c-sf-add-panel\\\"></div>\\n        </div>\\n      </div>\\n    \");\n        $(placeholder).replaceWith(dom);\n        _this.element = dom.get(0);\n        _this.addButton = dom.find('[data-streamblock-menu-open]');\n        _this.addButton.click(function () {\n            _this.toggle();\n        });\n        _this.outerContainer = dom.find('[data-streamblock-menu-outer]');\n        _this.innerContainer = dom.find('[data-streamblock-menu-inner]');\n        _this.hasRenderedMenu = false;\n        _this.isOpen = false;\n        _this.canAddBlock = true;\n        _this.disabledBlockTypes = new Set();\n        _this.close({ animate: false });\n        if (animate) {\n            dom.hide().slideDown();\n        }\n        return _this;\n    }\n    StreamBlockMenu.prototype.renderMenu = function () {\n        var _this = this;\n        if (this.hasRenderedMenu)\n            return;\n        this.hasRenderedMenu = true;\n        this.groupedChildBlockDefs.forEach(function (_a) {\n            var _b = __read(_a, 2), group = _b[0], blockDefs = _b[1];\n            if (group) {\n                var heading = $('<h4 class=\"c-sf-add-panel__group-title\"></h4>').text(group);\n                _this.innerContainer.append(heading);\n            }\n            var grid = $('<div class=\"c-sf-add-panel__grid\"></div>');\n            _this.innerContainer.append(grid);\n            blockDefs.forEach(function (blockDef) {\n                var button = $(\"\\n          <button type=\\\"button\\\" class=\\\"c-sf-button action-add-block-\" + text_1.escapeHtml(blockDef.name) + \"\\\">\\n            <span class=\\\"c-sf-button__icon\\\">\\n              <i class=\\\"icon icon-\" + text_1.escapeHtml(blockDef.meta.icon) + \"\\\"></i>\\n            </span>\\n            <span class=\\\"c-sf-button__label\\\">\" + text_1.escapeHtml(blockDef.meta.label) + \"</span>\\n          </button>\\n        \");\n                grid.append(button);\n                button.click(function () {\n                    if (_this.onRequestInsert) {\n                        _this.onRequestInsert(_this.index, { type: blockDef.name });\n                    }\n                    _this.close({ animate: true });\n                });\n            });\n        });\n        // Disable buttons for any disabled block types\n        this.disabledBlockTypes.forEach(function (blockType) {\n            $(\"button.action-add-block-\" + text_1.escapeHtml(blockType), _this.innerContainer).attr('disabled', 'true');\n        });\n    };\n    StreamBlockMenu.prototype.setNewBlockRestrictions = function (canAddBlock, disabledBlockTypes) {\n        var _this = this;\n        this.canAddBlock = canAddBlock;\n        this.disabledBlockTypes = disabledBlockTypes;\n        // Disable/enable menu open button\n        if (this.canAddBlock) {\n            this.addButton.removeAttr('disabled');\n        }\n        else {\n            this.addButton.attr('disabled', 'true');\n        }\n        // Close menu if its open and we no longer can add blocks\n        if (!canAddBlock && this.isOpen) {\n            this.close({ animate: true });\n        }\n        // Disable/enable individual block type buttons\n        $('button', this.innerContainer).removeAttr('disabled');\n        disabledBlockTypes.forEach(function (blockType) {\n            $(\"button.action-add-block-\" + text_1.escapeHtml(blockType), _this.innerContainer).attr('disabled', 'true');\n        });\n    };\n    StreamBlockMenu.prototype.toggle = function () {\n        if (this.isOpen) {\n            this.close({ animate: true });\n        }\n        else {\n            this.open({ animate: true });\n        }\n    };\n    StreamBlockMenu.prototype.open = function (opts) {\n        if (!this.canAddBlock) {\n            return;\n        }\n        this.renderMenu();\n        if (opts && opts.animate) {\n            this.outerContainer.slideDown();\n        }\n        else {\n            this.outerContainer.show();\n        }\n        this.addButton.addClass('c-sf-add-button--close');\n        this.outerContainer.attr('aria-hidden', 'false');\n        this.isOpen = true;\n    };\n    StreamBlockMenu.prototype.close = function (opts) {\n        if (opts && opts.animate) {\n            this.outerContainer.slideUp();\n        }\n        else {\n            this.outerContainer.hide();\n        }\n        this.addButton.removeClass('c-sf-add-button--close');\n        this.outerContainer.attr('aria-hidden', 'true');\n        this.isOpen = false;\n    };\n    return StreamBlockMenu;\n}(BaseSequenceBlock_1.BaseInsertionControl));\nvar StreamBlock = /** @class */ (function (_super) {\n    __extends(StreamBlock, _super);\n    function StreamBlock(blockDef, placeholder, prefix, initialState, initialError) {\n        var _this = this;\n        _this.blockDef = blockDef;\n        _this.type = blockDef.name;\n        _this.prefix = prefix;\n        var dom = $(\"\\n      <div class=\\\"c-sf-container \" + text_1.escapeHtml(_this.blockDef.meta.classname || '') + \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + text_1.escapeHtml(prefix) + \"-count\\\" data-streamfield-stream-count value=\\\"0\\\">\\n        <div data-streamfield-stream-container></div>\\n      </div>\\n    \");\n        $(placeholder).replaceWith(dom);\n        if (_this.blockDef.meta.helpText) {\n            // help text is left unescaped as per Django conventions\n            $(\"\\n        <span>\\n          <div class=\\\"help\\\">\\n            \" + _this.blockDef.meta.helpIcon + \"\\n            \" + _this.blockDef.meta.helpText + \"\\n          </div>\\n        </span>\\n      \").insertBefore(dom);\n        }\n        // StreamChild objects for the current (non-deleted) child blocks\n        _this.children = [];\n        // Insertion control objects - there are one more of these than there are children.\n        // The control at index n will insert a block at index n\n        _this.inserters = [];\n        // Incrementing counter used to generate block prefixes, also reflected in the\n        // 'count' hidden input. This count includes deleted items\n        _this.blockCounter = 0;\n        _this.countInput = dom.find('[data-streamfield-stream-count]');\n        // Parent element of insert control and block elements (potentially including deleted items,\n        // which are left behind as hidden elements with a '-deleted' input so that the\n        // server-side form handler knows to skip it)\n        _this.sequenceContainer = dom.find('[data-streamfield-stream-container]');\n        _this.setState(initialState || []);\n        _this.container = dom;\n        if (initialError) {\n            _this.setError(initialError);\n        }\n        return _this;\n    }\n    /*\n     * Called whenever a block is added or removed\n     *\n     * Updates the state of add / duplicate block buttons to prevent too many blocks being inserted.\n     */\n    StreamBlock.prototype.checkBlockCounts = function () {\n        this.canAddBlock = true;\n        if (typeof this.blockDef.meta.maxNum === 'number' && this.children.length >= this.blockDef.meta.maxNum) {\n            this.canAddBlock = false;\n        }\n        // If we can add blocks, check if there are any block types that have count limits\n        this.disabledBlockTypes = new Set();\n        if (this.canAddBlock) {\n            var _loop_1 = function (blockType) {\n                if (this_1.blockDef.meta.blockCounts.hasOwnProperty(blockType)) {\n                    var counts = this_1.blockDef.meta.blockCounts[blockType];\n                    if (typeof counts.max_num === 'number') {\n                        var currentBlockCount = this_1.children.filter(function (child) { return child.type === blockType; }).length;\n                        if (currentBlockCount >= counts.max_num) {\n                            this_1.disabledBlockTypes.add(blockType);\n                        }\n                    }\n                }\n            };\n            var this_1 = this;\n            // eslint-disable-next-line no-restricted-syntax\n            for (var blockType in this.blockDef.meta.blockCounts) {\n                _loop_1(blockType);\n            }\n        }\n        for (var i = 0; i < this.children.length; i++) {\n            var canDuplicate = this.canAddBlock && !this.disabledBlockTypes.has(this.children[i].type);\n            if (canDuplicate) {\n                this.children[i].enableDuplication();\n            }\n            else {\n                this.children[i].disableDuplication();\n            }\n        }\n        for (var i = 0; i < this.inserters.length; i++) {\n            this.inserters[i].setNewBlockRestrictions(this.canAddBlock, this.disabledBlockTypes);\n        }\n    };\n    StreamBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, opts) {\n        return new StreamChild(blockDef, placeholder, prefix, index, id, initialState, opts);\n    };\n    StreamBlock.prototype._createInsertionControl = function (placeholder, opts) {\n        // eslint-disable-next-line no-param-reassign\n        opts.groupedChildBlockDefs = this.blockDef.groupedChildBlockDefs;\n        return new StreamBlockMenu(placeholder, opts);\n    };\n    StreamBlock.prototype.insert = function (_a, index, opts) {\n        var type = _a.type, value = _a.value, id = _a.id;\n        var childBlockDef = this.blockDef.childBlockDefsByName[type];\n        return this._insert(childBlockDef, value, id, index, opts);\n    };\n    StreamBlock.prototype._insert = function (childBlockDef, value, id, index, opts) {\n        var result = _super.prototype._insert.call(this, childBlockDef, value, id, index, opts);\n        this.checkBlockCounts();\n        return result;\n    };\n    StreamBlock.prototype._getChildDataForInsertion = function (_a) {\n        var type = _a.type;\n        /* Called when an 'insert new block' action is triggered: given a dict of data from the insertion control,\n        return the block definition and initial state to be used for the new block.\n        For a StreamBlock, the dict of data consists of 'type' (the chosen block type name, as a string).\n        */\n        var blockDef = this.blockDef.childBlockDefsByName[type];\n        var initialState = this.blockDef.initialChildStates[type];\n        return [blockDef, initialState, uuid_1.v4()];\n    };\n    StreamBlock.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this.checkBlockCounts();\n    };\n    StreamBlock.prototype.duplicateBlock = function (index, opts) {\n        var child = this.children[index];\n        var childState = child.getState();\n        var animate = opts && opts.animate;\n        childState.id = null;\n        this.insert(childState, index + 1, { animate: animate, collapsed: child.collapsed });\n        // focus the newly added field if we can do so without obtrusive UI behaviour\n        this.children[index + 1].focus({ soft: true });\n        this.checkBlockCounts();\n    };\n    StreamBlock.prototype.deleteBlock = function (index, opts) {\n        _super.prototype.deleteBlock.call(this, index, opts);\n        this.checkBlockCounts();\n    };\n    StreamBlock.prototype.setState = function (values) {\n        _super.prototype.setState.call(this, values);\n        if (values.length === 0) {\n            /* for an empty list, begin with the menu open */\n            this.inserters[0].open({ animate: false });\n        }\n    };\n    StreamBlock.prototype.setError = function (errorList) {\n        if (errorList.length !== 1) {\n            return;\n        }\n        var error = errorList[0];\n        // Non block errors\n        var container = this.container[0];\n        container.querySelectorAll(':scope > .help-block.help-critical').forEach(function (element) { return element.remove(); });\n        if (error.nonBlockErrors.length > 0) {\n            // Add a help block for each error raised\n            error.nonBlockErrors.forEach(function (nonBlockError) {\n                var errorElement = document.createElement('p');\n                errorElement.classList.add('help-block');\n                errorElement.classList.add('help-critical');\n                errorElement.innerHTML = text_1.escapeHtml(nonBlockError.messages[0]);\n                container.insertBefore(errorElement, container.childNodes[0]);\n            });\n        }\n        // Block errors\n        // eslint-disable-next-line no-restricted-syntax\n        for (var blockIndex in error.blockErrors) {\n            if (error.blockErrors.hasOwnProperty(blockIndex)) {\n                this.children[blockIndex].setError(error.blockErrors[blockIndex]);\n            }\n        }\n    };\n    return StreamBlock;\n}(BaseSequenceBlock_1.BaseSequenceBlock));\nexports.StreamBlock = StreamBlock;\nvar StreamBlockDefinition = /** @class */ (function () {\n    function StreamBlockDefinition(name, groupedChildBlockDefs, initialChildStates, meta) {\n        var _this = this;\n        this.name = name;\n        this.groupedChildBlockDefs = groupedChildBlockDefs;\n        this.initialChildStates = initialChildStates;\n        this.childBlockDefsByName = {};\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.groupedChildBlockDefs.forEach(function (_a) {\n            var _b = __read(_a, 2), group = _b[0], blockDefs = _b[1];\n            blockDefs.forEach(function (blockDef) {\n                _this.childBlockDefsByName[blockDef.name] = blockDef;\n            });\n        });\n        this.meta = meta;\n    }\n    StreamBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\n        return new StreamBlock(this, placeholder, prefix, initialState, initialError);\n    };\n    return StreamBlockDefinition;\n}());\nexports.StreamBlockDefinition = StreamBlockDefinition;\n","\"use strict\";\n/* global $ */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexports.__esModule = true;\nexports.StructBlockDefinition = exports.StructBlock = exports.StructBlockValidationError = void 0;\nvar text_1 = require(\"../../../utils/text\");\nvar StructBlockValidationError = /** @class */ (function () {\n    function StructBlockValidationError(blockErrors) {\n        this.blockErrors = blockErrors;\n    }\n    return StructBlockValidationError;\n}());\nexports.StructBlockValidationError = StructBlockValidationError;\nvar StructBlock = /** @class */ (function () {\n    function StructBlock(blockDef, placeholder, prefix, initialState, initialError) {\n        var _this = this;\n        var state = initialState || {};\n        this.blockDef = blockDef;\n        this.type = blockDef.name;\n        this.childBlocks = {};\n        if (blockDef.meta.formTemplate) {\n            var html = blockDef.meta.formTemplate.replace(/__PREFIX__/g, prefix);\n            var dom_1 = $(html);\n            $(placeholder).replaceWith(dom_1);\n            this.blockDef.childBlockDefs.forEach(function (childBlockDef) {\n                var childBlockElement = dom_1.find('[data-structblock-child=\"' + childBlockDef.name + '\"]').get(0);\n                var childBlock = childBlockDef.render(childBlockElement, prefix + '-' + childBlockDef.name, state[childBlockDef.name], initialError === null || initialError === void 0 ? void 0 : initialError.blockErrors[childBlockDef.name]);\n                _this.childBlocks[childBlockDef.name] = childBlock;\n            });\n        }\n        else {\n            var dom_2 = $(\"\\n        <div class=\\\"\" + text_1.escapeHtml(this.blockDef.meta.classname || '') + \"\\\">\\n        </div>\\n      \");\n            $(placeholder).replaceWith(dom_2);\n            if (this.blockDef.meta.helpText) {\n                // help text is left unescaped as per Django conventions\n                dom_2.append(\"\\n          <span>\\n            <div class=\\\"help\\\">\\n              \" + this.blockDef.meta.helpIcon + \"\\n              \" + this.blockDef.meta.helpText + \"\\n            </div>\\n          </span>\\n        \");\n            }\n            this.blockDef.childBlockDefs.forEach(function (childBlockDef) {\n                var childDom = $(\"\\n          <div class=\\\"field \" + (childBlockDef.meta.required ? 'required' : '') + \"\\\" data-contentpath=\\\"\" + childBlockDef.name + \"\\\">\\n            <label class=\\\"field__label\\\">\" + text_1.escapeHtml(childBlockDef.meta.label) + \"</label>\\n            <div data-streamfield-block></div>\\n          </div>\\n        \");\n                dom_2.append(childDom);\n                var childBlockElement = childDom.find('[data-streamfield-block]').get(0);\n                var labelElement = childDom.find('label').get(0);\n                var childBlock = childBlockDef.render(childBlockElement, prefix + '-' + childBlockDef.name, state[childBlockDef.name], initialError === null || initialError === void 0 ? void 0 : initialError.blockErrors[childBlockDef.name]);\n                _this.childBlocks[childBlockDef.name] = childBlock;\n                if (childBlock.idForLabel) {\n                    labelElement.setAttribute('for', childBlock.idForLabel);\n                }\n            });\n        }\n    }\n    StructBlock.prototype.setState = function (state) {\n        // eslint-disable-next-line guard-for-in, no-restricted-syntax\n        for (var name_1 in state) {\n            this.childBlocks[name_1].setState(state[name_1]);\n        }\n    };\n    StructBlock.prototype.setError = function (errorList) {\n        if (errorList.length !== 1) {\n            return;\n        }\n        var error = errorList[0];\n        // eslint-disable-next-line no-restricted-syntax\n        for (var blockName in error.blockErrors) {\n            if (error.blockErrors.hasOwnProperty(blockName)) {\n                this.childBlocks[blockName].setError(error.blockErrors[blockName]);\n            }\n        }\n    };\n    StructBlock.prototype.getState = function () {\n        var state = {};\n        // eslint-disable-next-line guard-for-in, no-restricted-syntax\n        for (var name_2 in this.childBlocks) {\n            state[name_2] = this.childBlocks[name_2].getState();\n        }\n        return state;\n    };\n    StructBlock.prototype.getValue = function () {\n        var value = {};\n        // eslint-disable-next-line guard-for-in, no-restricted-syntax\n        for (var name_3 in this.childBlocks) {\n            value[name_3] = this.childBlocks[name_3].getValue();\n        }\n        return value;\n    };\n    StructBlock.prototype.getTextLabel = function (opts) {\n        var e_1, _a;\n        try {\n            /* Use the text label of the first child block to return one */\n            for (var _b = __values(this.blockDef.childBlockDefs), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var childDef = _c.value;\n                var child = this.childBlocks[childDef.name];\n                if (child.getTextLabel) {\n                    var val = child.getTextLabel(opts);\n                    if (val)\n                        return val;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // no usable label found\n        return null;\n    };\n    StructBlock.prototype.focus = function (opts) {\n        if (this.blockDef.childBlockDefs.length) {\n            var firstChildName = this.blockDef.childBlockDefs[0].name;\n            this.childBlocks[firstChildName].focus(opts);\n        }\n    };\n    return StructBlock;\n}());\nexports.StructBlock = StructBlock;\nvar StructBlockDefinition = /** @class */ (function () {\n    function StructBlockDefinition(name, childBlockDefs, meta) {\n        this.name = name;\n        this.childBlockDefs = childBlockDefs;\n        this.meta = meta;\n    }\n    StructBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\n        return new StructBlock(this, placeholder, prefix, initialState, initialError);\n    };\n    return StructBlockDefinition;\n}());\nexports.StructBlockDefinition = StructBlockDefinition;\n","\"use strict\";\nexports.__esModule = true;\nvar FieldBlock_1 = require(\"../../../components/StreamField/blocks/FieldBlock\");\nvar StaticBlock_1 = require(\"../../../components/StreamField/blocks/StaticBlock\");\nvar StructBlock_1 = require(\"../../../components/StreamField/blocks/StructBlock\");\nvar ListBlock_1 = require(\"../../../components/StreamField/blocks/ListBlock\");\nvar StreamBlock_1 = require(\"../../../components/StreamField/blocks/StreamBlock\");\nvar wagtailStreamField = window.wagtailStreamField || {};\nwagtailStreamField.blocks = {\n    FieldBlock: FieldBlock_1.FieldBlock,\n    FieldBlockDefinition: FieldBlock_1.FieldBlockDefinition,\n    StaticBlock: StaticBlock_1.StaticBlock,\n    StaticBlockDefinition: StaticBlock_1.StaticBlockDefinition,\n    StructBlock: StructBlock_1.StructBlock,\n    StructBlockDefinition: StructBlock_1.StructBlockDefinition,\n    StructBlockValidationError: StructBlock_1.StructBlockValidationError,\n    ListBlock: ListBlock_1.ListBlock,\n    ListBlockDefinition: ListBlock_1.ListBlockDefinition,\n    ListBlockValidationError: ListBlock_1.ListBlockValidationError,\n    StreamBlock: StreamBlock_1.StreamBlock,\n    StreamBlockDefinition: StreamBlock_1.StreamBlockDefinition,\n    StreamBlockValidationError: StreamBlock_1.StreamBlockValidationError,\n};\nfunction initBlockWidget(id) {\n    /*\n    Initialises the top-level element of a BlockWidget\n    (i.e. the form widget for a StreamField).\n    Receives the ID of a DOM element with the attributes:\n      data-block: JSON-encoded block definition to be passed to telepath.unpack\n        to obtain a Javascript representation of the block\n        (i.e. an instance of one of the Block classes below)\n      data-value: JSON-encoded value for this block\n    */\n    var body = document.querySelector('#' + id + '[data-block]');\n    // unpack the block definition and value\n    var blockDefData = JSON.parse(body.dataset.block);\n    var blockDef = window.telepath.unpack(blockDefData);\n    var blockValue = JSON.parse(body.dataset.value);\n    var blockErrors = window.telepath.unpack(JSON.parse(body.dataset.errors));\n    // replace the 'body' element with the populated HTML structure for the block\n    blockDef.render(body, id, blockValue, blockErrors);\n}\nwindow.initBlockWidget = initBlockWidget;\nwindow.telepath.register('wagtail.blocks.FieldBlock', FieldBlock_1.FieldBlockDefinition);\nwindow.telepath.register('wagtail.blocks.StaticBlock', StaticBlock_1.StaticBlockDefinition);\nwindow.telepath.register('wagtail.blocks.StructBlock', StructBlock_1.StructBlockDefinition);\nwindow.telepath.register('wagtail.blocks.StructBlockValidationError', StructBlock_1.StructBlockValidationError);\nwindow.telepath.register('wagtail.blocks.ListBlock', ListBlock_1.ListBlockDefinition);\nwindow.telepath.register('wagtail.blocks.ListBlockValidationError', ListBlock_1.ListBlockValidationError);\nwindow.telepath.register('wagtail.blocks.StreamBlock', StreamBlock_1.StreamBlockDefinition);\nwindow.telepath.register('wagtail.blocks.StreamBlockValidationError', StreamBlock_1.StreamBlockValidationError);\nwindow.wagtailStreamField = wagtailStreamField;\n","\"use strict\";\nexports.__esModule = true;\nexports.escapeHtml = void 0;\n// https://stackoverflow.com/questions/6234773/can-i-escape-html-special-chars-in-javascript\nfunction escapeHtml(unsafe) {\n    return unsafe\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#039;');\n}\nexports.escapeHtml = escapeHtml;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = function() {}\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 849;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t849: 0\n};\n\nvar deferredModules = [\n\t[76819,751],\n\t[90971,751]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = function() {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tvar executeModules = data[3];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwagtail\"] = self[\"webpackChunkwagtail\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = function() {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (function() {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nreturn __webpack_require__.x();\n"],"sourceRoot":""}