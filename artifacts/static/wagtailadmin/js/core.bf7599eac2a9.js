!function(){"use strict";var e={94639:function(e,t,n){var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var r=a(n(73609));window.addMessage=function(e,t){r.default(".messages").addClass("new").empty().append('<ul><li class="'+e+'">'+t+"</li></ul>");var n=setTimeout((function(){r.default(".messages").addClass("appear"),clearTimeout(n)}),100)},window.escapeHtml=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(function(e){return t[e]}))},window.initTagField=function(e,t,n){var o=Object.assign({autocomplete:{source:t},preprocessTag:function(e){return e&&'"'!==e[0]&&e.indexOf(" ")>-1?'"'+e+'"':e}},n);r.default("#"+e).tagit(o)},window.enableDirtyFormCheck=function(e,t){var n=r.default(e),a=t.confirmationMessage||" ",i=t.alwaysDirty||!1,s=t.commentApp||null,l=t.callback||null,u=null,c=!1,d=function(e,t){l&&l(e,t)};n.on("submit",(function(){c=!0}));var f=i,h=!1,p=-1;s&&(h=s.selectors.selectIsDirty(s.store.getState()),s.store.subscribe((function(){clearTimeout(p),p=setTimeout((function(){var e=s.selectors.selectIsDirty(s.store.getState());e!==h&&d(f,h=e)}),h?3e3:300)}))),d(f,h);var v=-1,w=function(){f!==(f=function(){if(i)return!0;if(!u)return!1;var e=new FormData(n[0]),t=Array.from(e.keys()).filter((function(e){return!e.startsWith("comments-")}));return t.length!==u.size||t.some((function(t){var n=e.getAll(t),o=u.get(t);return n!==o&&!(!Array.isArray(n)||!Array.isArray(o))&&(n.length!==o.length||n.some((function(e,t){return e!==o[t]})))}))}())&&d(f,h)};i||setTimeout((function(){var e=new FormData(n[0]);u=new Map,Array.from(e.keys()).filter((function(e){return!e.startsWith("comments-")})).forEach((function(t){return u.set(t,e.getAll(t))}));var t=function(){clearTimeout(v),v=setTimeout(w,f?3e3:300)};n.on("change keyup",t).trigger("change");var a=function(e){var t,n;try{for(var a=o(e),r=a.next();!r.done;r=a.next()){var i=r.value;if(i.nodeType===i.ELEMENT_NODE&&["INPUT","TEXTAREA","SELECT"].includes(i.tagName))return!0}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!1};new MutationObserver((function(e){var n,r;try{for(var i=o(e),s=i.next();!s.done;s=i.next()){var l=s.value;if(a(l.addedNodes)||a(l.removedNodes))return void t()}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})).observe(n[0],{childList:!0,attributes:!1,subtree:!0})}),1e4),window.addEventListener("beforeunload",(function(e){if(clearTimeout(v),w(),!c&&(f||h))return e.returnValue=a,a}))},r.default((function(){r.default("body").addClass("ready"),r.default(document).on("click","#nav-toggle",(function(){r.default("body").toggleClass("nav-open"),r.default("body").hasClass("nav-open")?r.default("body").removeClass("nav-closed"):r.default("body").addClass("nav-closed")})),r.default(document).on("click","#account-settings",(function(){r.default(".nav-main").toggleClass("nav-main--open-footer"),r.default(this).find("em").toggleClass("icon-arrow-down-after icon-arrow-up-after")}));var e=function(){r.default(".nav-wrapper").css("min-height",r.default(window).height())};e(),r.default(window).on("resize",(function(){e()})),function(){var e=r.default("[data-animated-logo-container]"),t=0,n="",o=0;function a(){e.removeClass("logo-playful").addClass("logo-serious")}e.on("mousemove",(function(a){var r,i=a.pageX;i>t?r="r":i<t&&(r="l"),r!==n&&""!==n&&(o+=1),o>8&&e.removeClass("logo-serious").addClass("logo-playful"),t=i,n=r})),e.on("mouseleave",(function(){o=0,a()})),a()}(),r.default(document).on("focus mouseover","input,textarea,select",(function(){r.default(this).closest(".field").addClass("focused"),r.default(this).closest("fieldset").addClass("focused"),r.default(this).closest("li").addClass("focused")})),r.default(document).on("blur mouseout","input,textarea,select",(function(){r.default(this).closest(".field").removeClass("focused"),r.default(this).closest("fieldset").removeClass("focused"),r.default(this).closest("li").removeClass("focused")}));var t=function(e){r.default(e).tab("show");var t=e.closest("[data-tab-nav]");t.dataset.currentTab=e.dataset.tab,t.dispatchEvent(new CustomEvent("switch",{detail:{tab:e.dataset.tab}}))};if(window.location.hash){var n=window.location.hash.replace(/[^\w\-#]/g,""),o=document.querySelector('a[href="'+n+'"][data-tab]');o&&t(o)}if(r.default(document).on("click","[data-tab-nav] a",(function(e){e.preventDefault(),t(this),window.history.replaceState(null,null,r.default(this).attr("href"))})),r.default(document).on("click",".tab-toggle",(function(e){e.preventDefault(),r.default('[data-tab-nav] a[href="'+r.default(this).attr("href")+'"]').trigger("click")})),r.default(".dropdown").each((function(){var e=r.default(this);r.default(".dropdown-toggle",e).on("click",(function(t){t.stopPropagation(),e.toggleClass("open"),e.hasClass("open")?r.default(document).on("click.dropdown.cancel",(function(t){var n=t.relatedTarget||t.toElement;r.default(n).parents().is(e)||(e.removeClass("open"),r.default(document).off("click.dropdown.cancel"))})):r.default(document).off("click.dropdown.cancel")}))})),r.default(".drop-zone").on("dragover",(function(){r.default(this).addClass("hovered")})).on("dragleave dragend drop",(function(){r.default(this).removeClass("hovered")})),window.headerSearch){var a=0,i=0,s=r.default(window.headerSearch.termInput),l=s.parent();s.on("keyup cut paste change",(function(){clearTimeout(s.data("timer")),s.data("timer",setTimeout(u,200))})),s.trigger("focus");var u=function(){var e="icon-spinner",t=s.val();if(c("q").trim()!==t.trim()){l.addClass(e);var n=++i;r.default.ajax({url:window.headerSearch.url,data:{q:t},success:function(e){n>a&&(a=n,r.default(window.headerSearch.targetOutput).html(e).slideDown(800),window.history.replaceState(null,null,"?q="+t))},complete:function(){window.wagtail.ui.initDropDowns(),l.removeClass(e)}})}},c=function(e){var t=new RegExp("[\\?&]"+e+"=([^]*)").exec(window.location.search);return t?t[1]:""}}r.default(document).on("shown.bs.tab",(function(){r.default("textarea[data-autosize-on]").each((function(){autosize.update(r.default(this).get())}))})),r.default(document).on("click","button.button-longrunning",(function(){var e=r.default(this),t=r.default("em",e),n="disabledtimeout";window.cancelSpinner=function(){e.prop("disabled","").removeData(n).removeClass("button-longrunning-active"),e.data("clicked-text")&&t.text(e.data("original-text"))};var o=e.closest("form").get(0);if(!o||!o.checkValidity||o.noValidate||o.checkValidity())var a=setTimeout((function(){e.data(n)||(e.data(n,setTimeout((function(){clearTimeout(e.data(n)),cancelSpinner()}),3e4)),e.data("clicked-text")&&t.length&&(e.data("original-text",t.text()),t.text(e.data("clicked-text"))),e.addClass("button-longrunning-active").prop("disabled","true")),clearTimeout(a)}),10)}))}));var i=window.wagtail||{};i.ui||(i.ui={});var s="listing__item--active",l="icon-arrow-down",u="icon-arrow-up",c="is-open",d="click",f="[data-dropdown-toggle]",h="aria-hidden",p=13,v=32,w={dropDowns:[],closeAllExcept:function(e){var t=this.dropDowns.indexOf(e);this.dropDowns.forEach((function(e,n){n!==t&&e.state.isOpen&&e.closeDropDown()}))},add:function(e){this.dropDowns.push(e)},get:function(){return this.dropDowns},getByIndex:function(e){return this.dropDowns[e]},getOpenDropDown:function(){var e=null;return this.dropDowns.forEach((function(t){t.state.isOpen&&(e=t)})),e}};function m(e,t){e&&t||!("error"in console)?(this.el=e,this.$parent=r.default(e).parents("[data-listing-page-title]"),this.state={isOpen:!1},this.registry=t,this.clickOutsideDropDown=this.clickOutsideDropDown.bind(this),this.closeDropDown=this.closeDropDown.bind(this),this.openDropDown=this.openDropDown.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyEvent=this.handleKeyEvent.bind(this),e.addEventListener(d,this.handleClick),e.addEventListener("keydown",this.handleKeyEvent),this.$parent.data("close",this.closeDropDown)):console.error("A dropdown was created without an element or the DropDownController.\nMake sure to pass both to your component.")}function g(){var e=new m(this,w);w.add(e)}function y(e){if(27===e.which){var t=w.getOpenDropDown();t&&t.closeDropDown()}}function b(){r.default("[data-dropdown]").each(g),r.default(document).on("keydown",y)}function D(e,t){return[].slice.call(e.querySelectorAll(t))}m.prototype={handleKeyEvent:function(e){[v,p].indexOf(e.which)>-1&&(e.preventDefault(),this.handleClick(e))},handleClick:function(e){this.state.isOpen?this.closeDropDown(e):this.openDropDown(e)},openDropDown:function(e){e.stopPropagation(),e.preventDefault();var t=this.el,n=this.$parent,o=t.querySelector(f);this.state.isOpen=!0,this.registry.closeAllExcept(this),t.classList.add(c),t.setAttribute(h,!1),o.classList.remove(l),o.classList.add(u),document.addEventListener(d,this.clickOutsideDropDown,!1),n.addClass(s)},closeDropDown:function(){this.state.isOpen=!1;var e=this.el,t=this.$parent,n=e.querySelector(f);document.removeEventListener(d,this.clickOutsideDropDown,!1),e.classList.remove(c),n.classList.add(l),n.classList.remove(u),e.setAttribute(h,!0),t.removeClass(s)},clickOutsideDropDown:function(e){var t=this.el,n=e.relatedTarget||e.toElement;r.default(n).parents().is(t)||this.closeDropDown()}},r.default(document).ready(b),i.ui.initDropDowns=b,i.ui.DropDownController=w,r.default(document).ready((function(){D(document,".button-select").forEach((function(e){var t=e.querySelector('input[type="hidden"]');D(e,".button-select__option").forEach((function(n){n.addEventListener("click",(function(o){o.preventDefault(),t.value=n.value,D(e,".button-select__option--selected").forEach((function(e){e.classList.remove("button-select__option--selected")})),n.classList.add("button-select__option--selected")}))}))}))})),window.wagtail=i},73609:function(e){e.exports=jQuery}},t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.x=function(){},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=321,function(){var e={321:0},t=[[94639,751],[90971,751]],o=function(){},a=function(a,r){for(var i,s,l=r[0],u=r[1],c=r[2],d=r[3],f=0,h=[];f<l.length;f++)s=l[f],n.o(e,s)&&e[s]&&h.push(e[s][0]),e[s]=0;for(i in u)n.o(u,i)&&(n.m[i]=u[i]);for(c&&c(n),a&&a(r);h.length;)h.shift()();return d&&t.push.apply(t,d),o()},r=self.webpackChunkwagtail=self.webpackChunkwagtail||[];function i(){for(var o,a=0;a<t.length;a++){for(var r=t[a],i=!0,s=1;s<r.length;s++){var l=r[s];0!==e[l]&&(i=!1)}i&&(t.splice(a--,1),o=n(n.s=r[0]))}return 0===t.length&&(n.x(),n.x=function(){}),o}r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r));var s=n.x;n.x=function(){return n.x=s||function(){},(o=i)()}}(),n.x()}();
//# sourceMappingURL=core.js.map